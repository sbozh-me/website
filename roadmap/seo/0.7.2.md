# 0.7.2 - Blog Post SEO

## Goal

Add dynamic metadata generation for individual blog posts with Open Graph and Twitter card support.

## Deliverables

- [ ] generateMetadata() function in blog/[slug]/page.tsx
- [ ] OG title, description, type=article
- [ ] Twitter card metadata
- [ ] Publish date and author information

## Implementation

### Generate Metadata Function

```typescript
// apps/web/app/(main)/blog/[slug]/page.tsx
import type { Metadata } from 'next';
import { createBlogRepository } from '@/lib/blog/repository';

interface PageProps {
  params: Promise<{ slug: string }>;
}

export async function generateMetadata({ params }: PageProps): Promise<Metadata> {
  const { slug } = await params;
  const repository = createBlogRepository();

  try {
    const post = await repository.getPost(slug);

    if (!post) {
      return {
        title: 'Post Not Found',
      };
    }

    const ogImage = post.image?.src || '/og/blog-default.png';

    return {
      title: post.title,
      description: post.excerpt,
      authors: [{ name: post.persona.name }],
      openGraph: {
        title: post.title,
        description: post.excerpt,
        type: 'article',
        publishedTime: post.date,
        authors: [post.persona.name],
        images: [
          {
            url: ogImage,
            width: 1200,
            height: 630,
            alt: post.title,
          },
        ],
      },
      twitter: {
        card: 'summary_large_image',
        title: post.title,
        description: post.excerpt,
        images: [ogImage],
      },
    };
  } catch {
    return {
      title: 'Blog Post',
    };
  }
}
```

### Metadata Fields

| Field | Source |
|-------|--------|
| title | post.title |
| description | post.excerpt |
| author | post.persona.name |
| publishedTime | post.date |
| image | post.image.src (or default) |

## Files to Modify

| File | Action |
|------|--------|
| `apps/web/app/(main)/blog/[slug]/page.tsx` | Add generateMetadata |

## Acceptance Criteria

- [ ] Page title shows post title
- [ ] Meta description matches excerpt
- [ ] OG type is "article"
- [ ] Published time present in OG tags
- [ ] Author information included
- [ ] Twitter card renders correctly
- [ ] Fallback metadata when post not found
- [ ] Graceful handling when Directus unavailable
