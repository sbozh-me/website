# 0.4.1 - Core Layout Components

## Goal

Create React components for document structure and AST-to-JSX transformer.

## Deliverables

- [ ] `Document` component (A4/Letter format, margins)
- [ ] `Page` component (print-aware sizing)
- [ ] `Columns`/`Column` components (ratio-based layout)
- [ ] `DocumentContext` for theme/config propagation
- [ ] Core transformer: AST â†’ React elements
- [ ] Print-specific CSS styles

## Files to Create

```
packages/pmdxjs/src/
  components/
    index.ts
    Document.tsx
    Page.tsx
    Columns.tsx
    Column.tsx
  transformer/
    index.ts
    transform.ts
    context.ts
  styles/
    document.css
    page.css
  __tests__/
    components/
      Document.test.tsx
      Page.test.tsx
      Columns.test.tsx
    transformer.test.ts
```

## Dependencies

```json
{
  "dependencies": {
    "clsx": "^2.1.1",
    "tailwind-merge": "^3.4.0"
  }
}
```

## Component Specs

### Document

```typescript
interface DocumentProps {
  config: {
    format: 'A4' | 'Letter';
    margins: [number, number, number, number]; // top, right, bottom, left in mm
    theme?: string;
  };
  children: React.ReactNode;
}
```

### Page

```typescript
interface PageProps {
  children: React.ReactNode;
}
// Inherits format/margins from DocumentContext
```

### Columns

```typescript
interface ColumnsProps {
  ratio: [number, number]; // e.g., [60, 40]
  children: React.ReactNode;
}
```

## Demo

```typescript
import { parse } from '@sbozh/pmdxjs/parser';
import { transform } from '@sbozh/pmdxjs/transformer';

const ast = parse(pmdxSource);
const element = transform(ast);
// Returns: <Document><Page><Columns>...</Columns></Page></Document>
```

## Acceptance Criteria

- [ ] Document renders with correct A4 dimensions (210mm x 297mm)
- [ ] Page applies margin configuration correctly
- [ ] Columns distribute width according to ratio
- [ ] Components use Tailwind classes + Obsidian Forge theme tokens
- [ ] Print preview shows correct page sizing
- [ ] Test coverage >= 90%
