# 0.4.0 - Package Scaffold + Basic Parser

## Goal

Establish `@sbozh/pmdxjs` package foundation and unified/remark-based parser for PMDXJS syntax.

## Deliverables

- [ ] Package structure following `@sbozh/react-ui` patterns
- [ ] Remark plugin for custom syntax
- [ ] TypeScript AST type definitions
- [ ] Core tokenizer and directive handlers
- [ ] Unit tests for parser

## Syntax to Support

```md
:::config
format: A4
margins: 20 20 20 20
theme: cv-professional
:::

:::page
# Heading
subtitle: Text
contact: a | b | c
:::page-end

---columns 60 40
---columns-end

:::entry Company | Role | Dates | Location
Content here
:::

#tag SkillName
```

## Files to Create

```
packages/pmdxjs/
  package.json
  tsconfig.json
  vitest.config.ts
  src/
    index.ts
    parser/
      index.ts
      tokenizer.ts
      directives.ts
      plugins/remark-pmdxjs.ts
    types/
      index.ts
      ast.ts
      config.ts
    __tests__/
      parser.test.ts
      fixtures/basic.pmdx
```

## Dependencies

```json
{
  "dependencies": {
    "unified": "^11.0.4",
    "remark-parse": "^11.0.0",
    "unist-util-visit": "^5.0.0"
  },
  "devDependencies": {
    "@sbozh/typescript-config": "workspace:*",
    "@sbozh/eslint-config": "workspace:*",
    "vitest": "^4.0.15",
    "typescript": "^5.7.2"
  },
  "peerDependencies": {
    "react": "^19.0.0"
  }
}
```

## Demo

```typescript
import { parse } from '@sbozh/pmdxjs/parser';

const ast = parse(`
:::config
format: A4
:::

:::page
# John Doe
subtitle: Software Engineer
:::page-end
`);

console.log(JSON.stringify(ast, null, 2));
// Outputs structured AST
```

## Acceptance Criteria

- [ ] `pnpm test` passes in packages/pmdxjs
- [ ] `pnpm build` succeeds
- [ ] Parser correctly identifies all directive types
- [ ] AST types are fully documented
- [ ] Test coverage >= 90%
