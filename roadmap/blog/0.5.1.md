# 0.5.1 - Timeline Components

## Goal

Create React components for the blog list timeline layout with year/month grouping.

## Deliverables

- [ ] `Timeline` container component
- [ ] `YearMarker` component
- [ ] `MonthMarker` component
- [ ] `PostCard` component with persona indicator
- [ ] `PersonaDot` component (colored indicator)
- [ ] `EmptyState` component
- [ ] Utility functions for date grouping

## Files to Create

```
packages/blog/src/
  components/
    index.ts
    timeline/
      index.ts
      Timeline.tsx
      YearMarker.tsx
      MonthMarker.tsx
      PostCard.tsx
      PersonaDot.tsx
      EmptyState.tsx
  utils/
    index.ts
    date-grouping.ts      # groupPostsByDate()
    reading-time.ts       # formatReadingTime()
  styles/
    timeline.css
  __tests__/
    components/
      Timeline.test.tsx
      PostCard.test.tsx
    utils/
      date-grouping.test.ts
```

## Component Specs

### Timeline

```typescript
interface TimelineProps {
  posts: PostListItem[];
  className?: string;
}

// Usage
<Timeline posts={posts} />
```

Renders year markers, month markers, and post cards in chronological order (newest first).

### YearMarker

```typescript
interface YearMarkerProps {
  year: number;
}
```

Styles:
```css
.year-marker {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--foreground);
  border-bottom: 1px solid var(--border);
  padding-bottom: 8px;
  margin: 48px 0 24px 0;
}
```

### MonthMarker

```typescript
interface MonthMarkerProps {
  month: string; // "December", "November", etc.
}
```

Styles:
```css
.month-marker {
  font-size: 1rem;
  font-weight: 600;
  color: var(--muted-foreground);
  margin: 32px 0 16px 0;
}
```

### PostCard

```typescript
interface PostCardProps {
  post: PostListItem;
}
```

Layout:
```
┌─────────────────────────────────────────────────────┐
│ ● Dec 4 • The Founder                    5 min read │
│                                                     │
│ Why I started sbozh.me                              │
│                                                     │
│ From side project to personal startup. The story    │
│ of building something that matters...               │
└─────────────────────────────────────────────────────┘
```

Styles:
```css
.post-card {
  background: var(--muted);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 20px 24px;
  margin-bottom: 16px;
  transition: border-color 200ms ease;
}

.post-card:hover {
  border-color: var(--primary);
}
```

### PersonaDot

```typescript
interface PersonaDotProps {
  color: string;     // hex color
  name: string;
  showName?: boolean;
}
```

Renders colored dot and optionally persona name in their accent color:
```tsx
<span
  className="w-2 h-2 rounded-full"
  style={{ backgroundColor: color }}
/>
{showName && (
  <span
    className="text-sm font-medium"
    style={{ color }}
  >
    {name}
  </span>
)}
```

### EmptyState

```typescript
interface EmptyStateProps {
  message?: string;
}

// Default: "No posts found"
```

```tsx
<div className="text-center py-16">
  <p className="text-muted-foreground">{message}</p>
</div>
```

## Utility Functions

### Date Grouping

```typescript
// utils/date-grouping.ts
interface GroupedPosts {
  year: number;
  months: {
    month: string;
    posts: PostListItem[];
  }[];
}

function groupPostsByDate(posts: PostListItem[]): GroupedPosts[];

// Example output:
// [
//   { year: 2025, months: [
//     { month: "December", posts: [...] },
//     { month: "November", posts: [...] }
//   ]},
//   { year: 2024, months: [...] }
// ]
```

### Reading Time Formatting

```typescript
// utils/reading-time.ts
function formatReadingTime(minutes: number): string;
// 5 → "5 min read"
// 1 → "1 min read"
```

## Demo

```typescript
import { Timeline, PostCard, EmptyState } from '@sbozh/blog/components';

function BlogList({ posts }) {
  if (posts.length === 0) {
    return <EmptyState />;
  }

  return <Timeline posts={posts} />;
}
```

## Acceptance Criteria

- [ ] Timeline renders posts grouped by year then month
- [ ] Year markers have correct styling (border, weight)
- [ ] Month markers display month name
- [ ] PostCard shows persona dot, date, title, excerpt, reading time
- [ ] Persona colors are applied inline from props
- [ ] Cards have hover state (border color change)
- [ ] EmptyState shows when no posts
- [ ] Components use Tailwind + Obsidian Forge theme tokens
- [ ] Test coverage >= 90%
