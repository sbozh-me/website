# 1.3.16 - Blog Filters Working

## Goal

Fully functional blog filtering by persona with smooth transitions and error handling.

## Deliverables

- [ ] Persona switching updates blog posts
- [ ] Smooth transition animation for posts
- [ ] "View all posts" link with filter param
- [ ] Empty state for no posts
- [ ] Error handling and recovery
- [ ] Performance optimization (prefetch)

## Implementation

### Persona Switching Flow

1. User clicks carousel arrow
2. Carousel slides to new persona (animation)
3. Blog posts fade out
4. Fetch posts for new persona
5. Blog posts fade in with new content

### View All Link

Links to `/blog?persona=slug` for each persona.

### Empty State

```tsx
<div className="text-center py-8">
  <p className="text-muted-foreground">
    No posts from this persona yet.
  </p>
  <Link href="/blog" className="text-primary hover:underline">
    View all posts
  </Link>
</div>
```

### Performance

- Prefetch posts for adjacent personas
- Client-side cache for visited personas
- Skeleton loading states

## Files to Modify

| File | Action |
|------|--------|
| `apps/web/components/home/PersonaCarousel.tsx` | Handle persona switching |
| `apps/web/components/home/BlogPostSlider.tsx` | Transition animations, empty state |
| `apps/web/app/page.tsx` | Wire up state management |
| `apps/web/app/(main)/blog/page.tsx` | Support `?persona=` URL param |

## Acceptance Criteria

- [ ] Blog posts update when persona changes
- [ ] Smooth fade transition for posts
- [ ] "View all posts" links to filtered blog page
- [ ] Empty state displays gracefully
- [ ] Loading skeleton during fetch
- [ ] No errors on rapid persona switching
- [ ] Blog page respects `?persona=` param
