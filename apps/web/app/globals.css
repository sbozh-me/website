@import "tailwindcss";
@import "@sbozh/themes/obsidian-forge";
@import "@sbozh/themes/kognitiv";
@plugin "tailwindcss-animate";

@source "../../../packages/react-ui/src";
@source "../../../packages/pmdxjs/src";
@source "../../../packages/blog/src";
@source "../../../packages/themes/src";
@source "../../../packages/release-notes/src";

/* Base typography */
html {
  font-size: 18px;
}

body {
  background-color: var(--color-background);
  color: var(--color-foreground);
  font-family: var(--font-sans);
  line-height: 1.7;
}

h1 {
  font-size: 2rem;
  font-weight: 700;
  line-height: 1.1;
}

h2 {
  font-size: 1.5rem;
  font-weight: 600;
  line-height: 1.2;
}

h3 {
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1.3;
}

@media (min-width: 768px) {
  h1 {
    font-size: 3rem;
  }

  h2 {
    font-size: 2.25rem;
  }

  h3 {
    font-size: 1.5rem;
  }
}

code, pre {
  font-family: var(--font-mono);
  font-size: 0.95rem;
}

::selection {
  background-color: rgb(139 92 246 / 0.4);
  color: var(--color-foreground);
}

/* Override focus ring to 1px secondary */
*:focus-visible,
*:focus {
  --tw-ring-color: var(--color-primary) !important;
  --tw-ring-offset-width: 0px !important;
  --tw-ring-offset-shadow: 0 0 0 1px var(--color-primary) !important;
}

*:focus-visible {
    outline-color: var(--color-primary) !important;
    outline: 1px solid var(--color-primary);
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* CV Theme Variables - Obsidian Forge Professional */
.pmdxjs-document {
  /* Dark mode (default) - paper colors */
  --cv-paper: #0a0a0f;
  --cv-foreground: #e5e7eb;
  --cv-muted: #18181b;
  --cv-muted-foreground: #6b7280;
  --cv-border: #27272a;
  --cv-primary: #8b5cf6;
  --cv-secondary: #f59e0b;
  --cv-accent: #22c55e;

  font-family: var(--font-sans);
}

.pmdxjs-document[data-theme="light"] {
  /* Light mode - only paper becomes white */
  --cv-paper: #ffffff;
  --cv-foreground: #1a1a1a;
  --cv-muted: #f3f4f6;
  --cv-muted-foreground: #6b7280;
  --cv-border: #e5e7eb;
}

/* CV Page styling - the actual paper */
.pmdxjs-page {
  background-color: var(--cv-paper);
  color: var(--cv-foreground);
}

.pmdxjs-section {
    margin-bottom: 12px;
}

/* CV Section Headers - Normal case with purple underline */
.pmdxjs-section h2 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--cv-foreground);
  border-bottom: 2px solid var(--cv-primary);
  padding-bottom: 4px;
  margin-bottom: 12px;
  width: fit-content;
  text-transform: none;
  letter-spacing: normal;
}

/* CV Entry styling */
.pmdxjs-entry {
  margin-bottom: 12px;
}

.pmdxjs-entry-role {
  font-size: 1rem;
  font-weight: 600;
  color: var(--cv-primary);
}

.pmdxjs-entry-company {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--cv-foreground);
}

.pmdxjs-entry-dates,
.pmdxjs-entry-location {
  font-size: 0.75rem;
  color: var(--cv-muted-foreground);
}

/* CV Header styling */
.pmdxjs-header h1 {
  font-size: 2rem;
  font-weight: 700;
  color: var(--cv-foreground);
}

.pmdxjs-header-subtitle {
  font-size: 0.875rem;
  color: var(--cv-muted-foreground);
}

.pmdxjs-header-contact {
  font-size: 0.75rem;
  color: var(--cv-muted-foreground);
}

/* CV Tags - Compact badges */
.pmdxjs-tag {
  display: inline-block;
  padding: 2px 8px;
  font-size: 0.75rem;
  background: var(--cv-muted);
  border: 1px solid var(--cv-border);
  border-radius: 4px;
  color: var(--cv-foreground);
}

/* CV Lists - Compact */
.pmdxjs-list {
  padding-left: 1rem;
  margin: 4px 0;
}

.pmdxjs-list-item {
  font-size: 0.875rem;
  line-height: 1.4;
  margin-bottom: 2px;
}

.pmdxjs-list-item::marker {
  color: var(--cv-muted-foreground);
}

/* CV Paragraphs */
.pmdxjs-paragraph {
  font-size: 0.875rem;
  line-height: 1.4;
  margin-bottom: 8px;
}

/* CV Divider */
.pmdxjs-divider {
  border-color: var(--cv-border);
}

/* CV Print Styles - Always light mode */
@media print {
  @page {
    size: A4;
    margin: 0;
  }

  body {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    background: white !important;
  }

  /* Force light mode for CV in print */
  .pmdxjs-document {
    --cv-paper: #ffffff !important;
    --cv-foreground: #1a1a1a !important;
    --cv-muted: #f3f4f6 !important;
    --cv-muted-foreground: #6b7280 !important;
    --cv-border: #e5e7eb !important;
  }

  .pmdxjs-page {
    box-shadow: none !important;
    margin: 0 !important;
    page-break-after: avoid;
  }

  /* Hide non-print elements */
  header,
  footer {
    display: none !important;
  }

  /* Hide elements with print:hidden class */
  .print\:hidden {
    display: none !important;
  }

  /* Reset page container padding for print */
  .cv-container {
    padding: 0 !important;
  }

  /* Hide main wrapper padding */
  main {
    padding: 0 !important;
  }

  /* Ensure CV document takes full page */
  .pmdxjs-document {
    width: 100% !important;
  }
}

/* Sonner Toast Styles */
.toast-success {
  background: var(--toast-bg-success) !important;
  border-color: var(--toast-border-success) !important;
}

.toast-error {
  background: var(--toast-bg-error) !important;
  border-color: var(--toast-border-error) !important;
}

.toast-warning {
  background: var(--toast-bg-warning) !important;
  border-color: var(--toast-border-warning) !important;
}

.toast-info {
  background: var(--toast-bg-info) !important;
  border-color: var(--toast-border-info) !important;
}

/* Sonner Toast Icon Colors */
[data-sonner-toast][data-type="success"] [data-icon] {
  color: var(--toast-icon-success);
}

[data-sonner-toast][data-type="error"] [data-icon] {
  color: var(--toast-icon-error);
}

[data-sonner-toast][data-type="warning"] [data-icon] {
  color: var(--toast-icon-warning);
}

[data-sonner-toast][data-type="info"] [data-icon] {
  color: var(--toast-icon-info);
}

/* Release Notes Timeline Styles */
.release-summary h2,
.release-summary h3 {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--color-muted-foreground);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}

.release-summary h2:first-child,
.release-summary h3:first-child {
  margin-top: 0;
}

/* Release card hover effects */
.release-card {
  transition: transform 0.2s ease, border-color 0.2s ease;
}

@media (min-width: 768px) {
  .group:hover .release-card {
    transform: translateY(-2px);
    border-color: var(--color-primary);
  }

  .group:hover .timeline-dot {
    box-shadow: 0 0 0 8px rgba(139, 92, 246, 0.2);
  }
}
